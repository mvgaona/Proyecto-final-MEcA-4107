#Filtrar por zonas Chapinero y El poblado
x<-str_detect( DTRAIN$description,"chapinero")
y<-str_detect( DTRAIN$description,"chapnero")
z<-str_detect( DTRAIN$description,"chap")
xx<-str_detect( DTRAIN$description,"poblado")
yy<-str_detect( DTRAIN$description,"pobado")
a<-str_detect( DTRAIN$title,"chapinero")
b<-str_detect( DTRAIN$title,"chapnero")
c<-str_detect( DTRAIN$title,"chap")
aa<-str_detect( DTRAIN$title,"poblado")
bb<-str_detect( DTRAIN$title,"pobado")
x[is.na(x)] = 0
y[is.na(y)] = 0
z[is.na(z)] = 0
xx[is.na(xx)] = 0
yy[is.na(yy)] = 0
a[is.na(a)] = 0
b[is.na(b)] = 0
c[is.na(c)] = 0
aa[is.na(aa)] = 0
bb[is.na(bb)] = 0
DTRAIN<-DTRAIN%>% mutate(Chap_poblado=ifelse(x==TRUE|y==TRUE| z==TRUE|xx==TRUE|yy==TRUE|a==TRUE|b==TRUE|c==TRUE|aa==TRUE|bb==TRUE,1,0 ))
#Creación variable Parqueadero para train y test
Descripc_test<-DTEST$description
parqueaderoT_aux1<-str_detect( Descripc_test,"parqueadero")
parqueaderoT_aux2<-str_detect( Descripc_test,"parqueaderos")
parqueaderoT_aux3<-str_detect( Descripc_test,"parqeadero")
parqueaderoT_aux4<-str_detect( Descripc_test,"parqeaderos")
parqueaderoT_aux5<-str_detect( Descripc_test,"garaje")
parqueaderoT_aux6<-str_detect( Descripc_test,"garajes")
parqueaderoT<-ifelse(parqueaderoT_aux1==TRUE|parqueaderoT_aux2==TRUE| parqueaderoT_aux3==TRUE|parqueaderoT_aux4==TRUE|parqueaderoT_aux5==TRUE|parqueaderoT_aux6==TRUE,1,0 )
parqueaderoT<-data.frame(parqueaderoT)
parqueaderoT[is.na(parqueaderoT)] = 0
DTEST<- cbind(DTEST, parqueaderoT)
rm(parqueaderoT)
Descripc_train<-DTRAIN$description
parqueadero_aux1<-str_detect( Descripc_train,"parqueadero")
parqueadero_aux2<-str_detect( Descripc_train,"parqueaderos")
parqueadero_aux3<-str_detect( Descripc_train,"parqeadero")
parqueadero_aux4<-str_detect( Descripc_train,"parqeaderos")
parqueadero_aux5<-str_detect( Descripc_train,"garaje")
parqueadero_aux6<-str_detect( Descripc_train,"garajes")
parqueaderoT<-ifelse(parqueadero_aux1==TRUE|parqueadero_aux2==TRUE| parqueadero_aux3==TRUE|parqueadero_aux4==TRUE|parqueadero_aux5==TRUE|parqueadero_aux6==TRUE,1,0 )
parqueaderoT<-data.frame(parqueaderoT)
parqueaderoT[is.na(parqueaderoT)] = 0
DTRAIN <- cbind(DTRAIN, parqueaderoT)
rm(parqueaderoT)
#Creación variable  para train y test
ascensorT_aux1<-str_detect( Descripc_test,"ascensor")
ascensorT_aux2<-str_detect( Descripc_test,"acensor")
ascensorT_aux3<-str_detect( Descripc_test,"asensor")
ascensorT_aux4<-str_detect( Descripc_test,"elevador")
ascensorT_aux5<-str_detect( Descripc_test,"ascensores")
ascensorT_aux6<-str_detect( Descripc_test,"acensores")
ascensorT_aux7<-str_detect( Descripc_test,"asensores")
ascensorT_aux8<-str_detect( Descripc_test,"elevadores")
ascensorT<-ifelse(ascensorT_aux1==TRUE|ascensorT_aux2==TRUE| ascensorT_aux3==TRUE|ascensorT_aux4==TRUE|ascensorT_aux5==TRUE|ascensorT_aux6==TRUE|ascensorT_aux7==TRUE|ascensorT_aux8==TRUE, 1,0 )
ascensorT<-data.frame(ascensorT)
ascensorT[is.na(ascensorT)] = 0
DTEST <- cbind(DTEST, ascensorT)
summary(ascensorT)
rm(ascensorT)
ascensor_aux1<-str_detect( Descripc_train,"ascensor")
ascensor_aux2<-str_detect( Descripc_train,"acensor")
ascensor_aux3<-str_detect( Descripc_train,"asensor")
ascensor_aux4<-str_detect( Descripc_train,"elevador")
ascensor_aux5<-str_detect( Descripc_train,"ascensores")
ascensor_aux6<-str_detect( Descripc_train,"acensores")
ascensor_aux7<-str_detect( Descripc_train,"asensores")
ascensor_aux8<-str_detect( Descripc_train,"elevadores")
ascensorT<-ifelse(ascensor_aux1==TRUE|ascensor_aux2==TRUE| ascensor_aux3==TRUE|ascensor_aux4==TRUE|ascensor_aux5==TRUE|ascensor_aux6==TRUE|ascensor_aux7==TRUE|ascensor_aux8==TRUE, 1,0 )
ascensorT<-data.frame(ascensorT)
ascensorT[is.na(ascensorT)] = 0
DTRAIN <- cbind(DTRAIN, ascensorT)
rm(ascensorT)
table(DTRAIN$l3)
table(DTEST$l3)
table(is.na(DTRAIN$surface_total))
table(is.na(DTRAIN$surface_covered))
#Para área
pat_1 <- "[:space:]+[:digit:]+[:punct:]+[:digit:]+[:space:]+m2" ## patrón para área
pat_2 <- "[:space:]+[:digit:]+[:punct:]+[:digit:]+m2"
pat_3<-"[:space:]+[:digit:]+[:space:]+metros"
pat_4<-"[:space:]+[:digit:]+metros"
pat_5 <- "[:space:]+[:digit:]+[:punct:]+[:digit:]+[:space:]+mts"
pat_6 <- "[:space:]+[:digit:]+mts"
pat_7 <- "[:space:]+[:digit:]+[:space:]+mts"
pat_8<-"[:space:]+[:digit:]+m^2"
pat_9 <- "[:space:]+[:digit:]+[:punct:]+[:digit:]+[:space:]+m^2"
pat_10 <- "[:space:]+[:digit:]+[:punct:]+[:digit:]+[:space:]+mtrs"
pat_11 <- "[:space:]+[:digit:]+mtrs"
pat_12 <- "[:space:]+[:digit:]+[:space:]+mtrs"
pat_13 <- "[:space:]+[:digit:]+[:space:]+[:punct:]+[:digit:]+[:space:]+mts"
pat_14 <- "[:space:]+[:digit:]+[:punct:]+[:digit:]+[:space:]+mt"
pat_15 <- "[:space:]+[:digit:]+mt"
pat_16 <- "[:space:]+[:digit:]+[:space:]+mt"
pat_17 <- "[:space:]+[:digit:]+[:space:]+[:punct:]+[:digit:]+[:space:]+mts2"
pat_18 <- "[:space:]+[:digit:]+[:punct:]+[:digit:]+[:space:]+mts2"
pat_19 <- "[:space:]+[:digit:]+mts2"
pat_20 <- "[:space:]+[:digit:]+[:space:]+mts2"
pat_21 <- "[:space:]+[:digit:]+[:space:]+[:punct:]+[:digit:]+mts2"
pat_22 <- "[:space:]+[:digit:]+[:space:]+[:punct:]+[:digit:]+[:space:]+metros cuadrados"
pat_23 <- "[:space:]+[:digit:]+[:punct:]+[:digit:]+[:space:]+metros cuadrados"
pat_24 <- "[:space:]+[:digit:]+metros cuadrados"
pat_25 <- "[:space:]+[:digit:]+[:space:]+metros cuadrados"
pat_26 <- "[:space:]+[:digit:]+[:space:]+[:punct:]+[:digit:]+[:space:]+metros cuadrados"
DTRAIN <- DTRAIN  %>%
mutate(area_total= str_extract(string=DTRAIN$description , pattern= paste0(pat_1,"|",pat_2,"|", pat_3,"|", pat_4,"|", pat_5,"|", pat_6,"|", pat_7,"|", pat_8,"|", pat_9,"|", pat_10,"|", pat_11,"|", pat_12,"|", pat_13,"|", pat_14,"|", pat_15,"|", pat_16,"|", pat_17,"|", pat_18,"|", pat_19,"|", pat_20,"|", pat_21,"|", pat_22,"|", pat_23,"|", pat_24,"|", pat_25,"|", pat_26) ))
View(DTRAIN$area_total)
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "," , replacement = ".")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "m2" , replacement = "")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "mts" , replacement = "")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "mtrs" , replacement = "")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "metros" , replacement = "")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "m^2" , replacement = "")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "mt" , replacement = "")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "metros cuadrados" , replacement = "")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "cuadrados" , replacement = "")
DTRAIN$area_total<-str_replace_all(string = DTRAIN$area_total, pattern = "\n" , replacement = "")
DTRAIN$area_total<-as.numeric(DTRAIN$area_total)
table(DTRAIN$area_total)
summary(DTRAIN$area_total)
mnzBog<-readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/ArchivoPS3/Bogota.rds") #Datos de manzanas Bogotá
mnzAnt<-readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/ArchivoPS3/Antioquia.rds") #Datos de manzanas Antioquia
mnzBogota<-subset(mnzBog, select=c("MANZ_CCNCT", "geometry"))
mnzAntioquia<-subset(mnzAnt, select=c("MANZ_CCNCT", "geometry"))
DTRAIN_sf <- DTRAIN %>% st_as_sf(coords = c("lon", "lat"), crs = 4326)
DTRAIN_Bog<- DTRAIN_sf[DTRAIN_sf$l3=="Bogotá D.C",]
DTRAIN_Med<- DTRAIN_sf[DTRAIN_sf$l3=="Medellín",]
##
DTRAIN_Bog<- DTRAIN_sf[DTRAIN_sf$l3=="Bogotá D.C",]
DTRAIN_Med<- DTRAIN_sf[DTRAIN_sf$l3=="Medellín",]
require("tidyverse")
require("sf")
mnzBog$MANZ_CCNCT<-NULL
mnzBog<-st_join(mnzBog,mnzBogota,join = st_intersects)
sum(is.na(mnzBog$MANZ_CCNCT))
sf::sf_use_s2(FALSE)
mnzBogota<-st_transform(mnzBogota, 4326)
DTRAIN_Bog<-DTRAIN_Bog %>% st_as_sf(coords = c("lon", "lat"), crs = 4326)
st_crs(mnzBogota) == st_crs(DTRAIN_Bog)
leaflet() %>% addTiles() %>% addPolygons(data=mnzBogota , color="red") %>% addCircles(data=DTRAIN_Bog, color = "blue")
Casa_mnz = st_join(x = DTRAIN_Bog,y = mnzBogota)
DTRAIN_Bog_NA<-Casa_mnz[is.na(Casa_mnz$MANZ_CCNCT),]
#Se crea vector para tener los datos de las filas de las manzanas más cercanas a los NA
Distancia_cercana<-c(1:nrow(DTRAIN_Bog_NA))
#Distancia_cercana<-
st_nn(DTRAIN_Bog_NA, mnzBogota, k = 1, maxdist = 50, progress=TRUE)
summary(Distancia_cercana)
#Se realiza un for para que se haga la función st_nn para cada dato de apartamentos con NA y se compara con las manzanas Bogotá
#Se demora mucho este proceso
for (i in 1:nrow(DTRAIN_Bog_NA)){ #Realizar la distancia mínima para los NAs
Distancia_cercana[i]<-st_nn(DTRAIN_Bog_NA[i,], mnzBogota, k = 1, maxdist = 50, progress=TRUE)
}
DTRAIN_Med<-DTRAIN_Med %>% st_as_sf(coords = c("lon", "lat"), crs = 4326)
st_crs(mnzAntioquia) == st_crs(DTRAIN_Med)
Casa_mnz_Med = st_join(x = DTRAIN_Med,y = mnzAntioquia)
DTRAIN_Med_NA<-Casa_mnz[is.na(Casa_mnz_Med$MANZ_CCNCT),]
summary(DTRAIN_Med_NA)
summary(DTRAIN_Med_NA$area_total)
Distancia_cercana_Med<-c(1:nrow(DTRAIN_Med_NA))
for (i in 1:nrow(DTRAIN_Med_NA)){ #Realizar la distancia mínima para los NAs
Distancia_cercana_Med[i]<-st_nn(DTRAIN_Med_NA[i,], mnzAntioquia, k = 1, maxdist = 50, progress=FALSE)
}
#
Distancia_cercana<-st_nn(DTRAIN_Bog_NA, mnzBogota, k = 1, maxdist = 0.0005, progress=TRUE)
require(pacman)
p_load(caret,
Matrix,
recipes,
rio, #Instalar librerías que falten
tidyverse,
glmnet,
dplyr,
readr,
gamlr,
tidymodels,
ggplot2,
scales,
ggpubr,
skimr,
rvest,
caret,
stringr,
boot,
caret,
modeest,
recipes,
glmnet,
stargazer,
pROC,
sf,
leaflet,
tmaptools,
nngeo,
osmdata)
DTEST<-data.frame(readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/ArchivoPS3/test.rds"))  #Guardar las bases de datos
DTRAIN <- data.frame(readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/ArchivoPS3/train.rds"))
train<- DTRAIN %>% mutate(base = "train")
test <- DTEST %>% mutate(base="test")
HOUSE<- bind_rows(train,test) %>% st_as_sf(coords=c("lon","lat"),crs=4326)
leaflet() %>% addTiles() %>% addCircles(data = HOUSE)
str(HOUSE)
table(DTEST$l3)
#Medellin
PolPoblado <- getbb(place_name = "Comuna 14 - El Poblado, Medellín",
featuretype = "boundary:administrative",
format_out = "sf_polygon")
PolPoblado <- st_transform(PolPoblado, st_crs(HOUSE))
House_Poblado<- HOUSE[PolPoblado,]
available_features()
available_tags("amenity")
mnzAnt<-readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/ArchivoPS3/Antioquia.rds") #Datos de manzanas Antioquia
sf_use_s2(FALSE)
mnzMedellin<-subset(mnzAnt, select=c("MANZ_CCNCT", "geometry"))
mnz_pob <- mnzMedellin[PolPoblado,]
leaflet() %>% addTiles() %>% addCircles(data = House_Poblado, color = "red" ) %>% addPolygons(data= mnz_pob, col = "blue")
house_pob_mnz <- st_join(House_Poblado, mnz_pob)
colnames(house_pob_mnz)
table(is.na(house_pob_mnz$MANZ_CCNCT))
db_1M <- house_pob_mnz %>% subset(is.na(MANZ_CCNCT)==F)
db_2M<- house_pob_mnz %>% subset(is.na(MANZ_CCNCT)==T) %>% mutate(MANZ_CCNCT = NULL)
leaflet() %>% addTiles() %>% addPolygons(data=db_2M[1,] %>% st_buffer(dist = 0.0005))
db_2M <- st_join(st_buffer(db_2M, dist = 0.0005), mnz_pob)%>% subset(duplicated(property_id)==F)
table(is.na(db_2M$MANZ_CCNCT))
db2M_NA_Med<-db_2M[is.na(db_2M$MANZ_CCNCT),]
Distancia_cercana_mnzMed<-st_nn(db2M_NA_Med, mnzMedellin, k = 1, maxdist =  0.0005, progress=TRUE)
library(pacman)
p_load(topicmodels,
tm,
tidytext,
tidyverse)
data("AssociatedPress")
class(AssociatedPress)
tidy(AssociatedPress)
ap_td<- tidy(AssociatedPress)
get_sentiments("bing")
ap%>%
inner_join(get_sentiments("bing")), by ("term"= "word"))
ap_td%>%
inner_join(get_sentiments("bing")), by ("term"= "word"))
ap_td%>%
inner_join(get_sentiments("bing")) by = ("term"= "word"))
ap_td%>%
inner_join(get_sentiments("bing")), by = ("term"= "word"))
ap_td%>%
inner_join(get_sentiments("bing")), by = c("term"= "word"))
ap_td%>%
inner_join(get_sentiments("bing")),
by = c("term"= "word"))
ap_td%>%
inner_join(get_sentiments("bing")),
by = c(term= "word"))
ap_td%>%
inner_join(get_sentiments("bing"),
by = c(term= "word"))
sentimientos %>%
group_by(document)%>%
count(sentiment)
sentimientos<- ap_td%>%
inner_join(get_sentiments("bing"),
by = c(term= "word"))
sentimientos %>%
group_by(document)%>%
count(sentiment)
sentimientos %>%
count(sentimient, term, wt = count)
sentimientos %>%
count(sentiment, term, wt = count)
sentimientos %>%
count(sentiment, term, wt = count)%>%
ungroup()%>%
filter(n>200)%>%
mutate(n = ifelse(sentiment== "negative", -n,n))%>%
mutate(term = reorder(term, n))%>%
ggplot(aes(n,term, fill= sentiment))+
geom_col()
#LDA
ap_lda<- LDA(AssociatedPress, k = 2, control = list(seed = 1234))
ap_lda
#prob topico por palabra
ap_topics<- tidy(ap_lda, matrix = "beta")
ap_topics_terms %>%
group_by(topic)%>%
slice_max(beta, n = 10)%>%
ungroup()%>%
arrange(topic,beta)
ap_topics %>%
group_by(topic)%>%
slice_max(beta, n = 10)%>%
ungroup()%>%
arrange(topic,beta)
ap_top_terms %>%
group_by(topic)%>%
slice_max(beta, n = 10)%>%
ungroup()%>%
arrange(topic,beta)
ap_tiop_terms<- ap_topics %>%
group_by(topic)%>%
slice_max(beta, n = 10)%>%
ungroup()%>%
arrange(topic,beta)
scale_y_reordered()
#Log-Ratio: log en base 2 importantísismo Log_2(b2/b1)
log(2/1)
#Log-Ratio: log en base 2 importantísismo Log_2(b2/b1)
log2(2/1)
log2(1/2)
ap_topics%>%
mutate(topic = paste("topic", topic))%>%
pivot_wider(names_from = "topic", values_from = "beta")
beta_wide<- ap_topics%>%
mutate(topic = paste("topic", topic))%>%
pivot_wider(names_from = "topic", values_from = "beta")%>%
filter(topic1 > 1/100| topic2>1/1000)%>%
mutate(log_ratio = log2(topic2/topic1))
beta_wide<- ap_topics%>%
mutate(topic = paste("topic", topic))%>%
pivot_wider(names_from = "topic", values_from = "beta")%>%
filter(topic1 > 1/1000| topic2 >1/1000)%>%
mutate(log_ratio = log2(topic2/topic1))
beta_wide<- ap_topics%>%
mutate(topic = paste("topic", topic))%>%
pivot_wider(names_from = "topic", values_from = "beta")%>%
filter(topic1 > 1/1000 | topic2 >1/1000)%>%
mutate(log_ratio = log2(topic2/topic1))
`rlang::last_error()
rlang::last_error()
beta_wide<- ap_topics%>%
mutate(topic = paste("topic", topic))%>%
pivot_wider(names_from = "topic", values_from = "beta")%>%
filter(topic1 > 1/1000 | topic2 > 1/1000)%>%
mutate(log_ratio = log2(topic2/topic1))
ap_tiop_terms2 <- beta_wide%>%
slice_max(
log_ratio, n = 10) %>%
rbind(beta_wide %>%
slice_max(log_ratio, n = 10
)
)
ggplot(ap_tiop_terms2, aes(x= log_ratio, y = reorder(term, log_ratio)))+ geom_col(show.legend = F)
ggplot(ap_tiop_terms2, aes(x= log_ratio, y = reorder(term, log_ratio)))+ geom_col(show.legend = F)
ap_documents<- tidy(alpha, matrix = "gamma")
tidy(AssociatedPress)%>%
filter(document ==6)%>%
arrange(desc(count))
### Base oficial
BASEOF<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/BASEOF.rds")
train <- BASEOF[1:5751, ] # initial data
pred <- BASEOF[(5751:8217), ] # extended time index
View(pred)
View(BASEOF)
x_train <- model.matrix(Precio_Bolsa_Nacional ~Gen_CoGenerador+ Gen_Hidraulica + Gen_Termica + Gen_Eolica + Gen_Solar +Aportes_Diarios + ONI +TRM, data =BASEOF)[, -1]
x_train <- model.matrix(Precio_Bolsa_Nacional ~Gen_CoGenerador+ Gen_Hidraulica + Gen_Termica + Gen_Eolica + Gen_Solar +Aportes_Diarios + ONI +TRM, data =train)[, -1]
Gen0<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_0_30062022.rds")
View(Gen0)
View(Gen0)
colnames(Gen0) <- c('Fecha', 'Gen_CoGenerador0','Gen_Hidraulica0', 'Gen_Termica0', 'Gen_Eolica0', 'Gen_Solar0')
View(Gen0)
Gen1<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_1_30062022.rds")
View(Gen1)
View(Gen0)
colnames(Gen1) <- c('Fecha', 'Gen_CoGenerador1','Gen_Hidraulica1', 'Gen_Termica1', 'Gen_Eolica1', 'Gen_Solar1')
View(Gen1)
View(Gen0)
View(Gen1)
Gen2<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_2_30062022.rds")
colnames(Gen2) <- c('Fecha', 'Gen_CoGenerador2','Gen_Hidraulica2', 'Gen_Termica2', 'Gen_Eolica2', 'Gen_Solar2')
View(Gen2)
Gen3<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_3_30062022.rds")
colnames(Gen3) <- c('Fecha', 'Gen_CoGenerador3','Gen_Hidraulica3', 'Gen_Termica3', 'Gen_Eolica3', 'Gen_Solar3')
View(Gen3)
Gen4<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_4_30062022.rds")
colnames(Gen4) <- c('Fecha', 'Gen_CoGenerador4','Gen_Hidraulica4', 'Gen_Termica4', 'Gen_Eolica4', 'Gen_Solar4')
View(Gen4)
Gen5<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_5_30062022.rds")
colnames(Gen5) <- c('Fecha', 'Gen_CoGenerador5','Gen_Hidraulica5', 'Gen_Termica5', 'Gen_Eolica5', 'Gen_Solar5')
View(Gen5)
Gen6<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_6_30062022.rds")
colnames(Gen6) <- c('Fecha', 'Gen_CoGenerador6','Gen_Hidraulica6', 'Gen_Termica6', 'Gen_Eolica6', 'Gen_Solar6')
View(Gen6)
View(Gen5)
Gen7<- readRDS("../Datos/Bases oficiales/Generacion_6_30062022.rds")
Gen7<- readRDS(".../Datos/Bases oficiales/Generacion_6_30062022.rds")
setwd("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Script")
Gen6<- readRDS("../Bases oficiales/Generacion_7_30062022.rds")
Gen7<- readRDS(".../Bases oficiales/Generacion_7_30062022.rds")
Gen7<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_7_30062022.rds")
View(Gen7)
colnames(Gen7) <- c('Fecha', 'Gen_CoGenerador7','Gen_Hidraulica7', 'Gen_Termica7', 'Gen_Eolica7', 'Gen_Solar7')
colnames(Gen7) <- c('Fecha', 'Gen_CoGenerador7','Gen_Hidraulica7', 'Gen_Termica7', 'Gen_Eolica7', 'Gen_Solar7')
View(Gen7)
colnames(Gen8) <- c('Fecha', 'Gen_CoGenerador8','Gen_Hidraulica8', 'Gen_Termica8', 'Gen_Eolica8', 'Gen_Solar8')
Gen8<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_8_30062022.rds")
colnames(Gen8) <- c('Fecha', 'Gen_CoGenerador8','Gen_Hidraulica7', 'Gen_Termica8', 'Gen_Eolica8', 'Gen_Solar8')
View(Gen8)
Gen9<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_9_30062022.rds")
colnames(Gen9) <- c('Fecha', 'Gen_CoGenerador9','Gen_Hidraulica9', 'Gen_Termica9', 'Gen_Eolica9', 'Gen_Solar9')
View(Gen9)
View(Gen8)
colnames(Gen8) <- c('Fecha', 'Gen_CoGenerador8','Gen_Hidraulica8', 'Gen_Termica8', 'Gen_Eolica8', 'Gen_Solar8')
View(Gen8)
Gen10<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_10_30062022.rds")
colnames(Gen10) <- c('Fecha', 'Gen_CoGenerador10','Gen_Hidraulica10', 'Gen_Termica10', 'Gen_Eolica10', 'Gen_Solar10')
View(Gen10)
Gen11<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_11_30062022.rds")
colnames(Gen11) <- c('Fecha', 'Gen_CoGenerador11','Gen_Hidraulica11', 'Gen_Termica11', 'Gen_Eolica11', 'Gen_Solar11')
View(Gen11)
Gen12<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_12_30062022.rds")
colnames(Gen12) <- c('Fecha', 'Gen_CoGenerador12','Gen_Hidraulica12', 'Gen_Termica12', 'Gen_Eolica12', 'Gen_Solar12')
View(Gen12)
Gen13<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_13_30062022.rds")
colnames(Gen13) <- c('Fecha', 'Gen_CoGenerador13','Gen_Hidraulica13', 'Gen_Termica13', 'Gen_Eolica13', 'Gen_Solar13')
Gen14<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_14_30062022.rds")
colnames(Gen14) <- c('Fecha', 'Gen_CoGenerador14','Gen_Hidraulica14', 'Gen_Termica14', 'Gen_Eolica14', 'Gen_Solar14')
View(Gen14)
Gen15<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_15_30062022.rds")
colnames(Gen15) <- c('Fecha', 'Gen_CoGenerador15','Gen_Hidraulica15', 'Gen_Termica15', 'Gen_Eolica15', 'Gen_Solar15')
Gen16<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_16_30062022.rds")
colnames(Gen16) <- c('Fecha', 'Gen_CoGenerador16','Gen_Hidraulica16', 'Gen_Termica16', 'Gen_Eolica16', 'Gen_Solar16')
View(Gen16)
Gen17<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_17_30062022.rds")
View(Gen17)
colnames(Gen17) <- c('Fecha', 'Gen_CoGenerador17','Gen_Hidraulica17', 'Gen_Termica17', 'Gen_Eolica17', 'Gen_Solar17')
View(Gen17)
Gen18<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_18_30062022.rds")
colnames(Gen18) <- c('Fecha', 'Gen_CoGenerador18','Gen_Hidraulica18', 'Gen_Termica18', 'Gen_Eolica18', 'Gen_Solar18')
View(Gen18)
Gen19<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_19_30062022.rds")
colnames(Gen19) <- c('Fecha', 'Gen_CoGenerador19','Gen_Hidraulica19', 'Gen_Termica19', 'Gen_Eolica19', 'Gen_Solar19')
View(Gen19)
Gen20<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_20_30062022.rds")
colnames(Gen20) <- c('Fecha', 'Gen_CoGenerador20','Gen_Hidraulica20', 'Gen_Termica20', 'Gen_Eolica20', 'Gen_Solar20')
View(Gen20)
Gen21<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_21_30062022.rds")
colnames(Gen21) <- c('Fecha', 'Gen_CoGenerador21','Gen_Hidraulica21', 'Gen_Termica21', 'Gen_Eolica21', 'Gen_Solar21')
View(Gen21)
Gen22<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_22_30062022.rds")
colnames(Gen22) <- c('Fecha', 'Gen_CoGenerador22','Gen_Hidraulica22', 'Gen_Termica22', 'Gen_Eolica22', 'Gen_Solar22')
View(Gen22)
Gen23<- readRDS("C:/Users/valer/Desktop/Andes/Intersemestral/Big Data/Proyecto final/Proyecto-final-MEcA-4107/Datos/Bases oficiales/Generacion_23_30062022.rds")
colnames(Gen23) <- c('Fecha', 'Gen_CoGenerador23','Gen_Hidraulica23', 'Gen_Termica23', 'Gen_Eolica23', 'Gen_Solar23')
View(Gen23)
GEN<- cbind(Gen0, Gen1, Gen2, Gen3, Gen4, Gen5, Gen6, Gen7, Gen8, Gen9, Gen10, Gen11, Gen12, Gen13, Gen14, Gen15, Gen16, Gen17, Gen18, Gen19,Gen20, Gen21, Gen22, Gen23)
View(GEN)
rm(GEN)
View(Gen1)
Gen1<-Gen1%>% mutate(Fecha = NULL) #Eliminación de primera columna
require(pacman)
p_load(Matrix,
recipes,
rio,
tidyverse,
glmnet,
dplyr,
readr,
gamlr,
tidymodels,
ggplot2,
scales,
rvest,
stringr,
boot,
modeest,
stargazer,
sf,
leaflet,
tmaptools,
class,
rgeos,
nngeo,
osmdata,
randomForest,
xgboost,
nnls,
forecast,
zoo,
BiocManager,
data.table,
ranger, SuperLearner)
Gen1<-Gen1%>% mutate(Fecha = NULL) #Eliminación de primera columna
Gen1<-Gen1%>% mutate(Fecha = NULL) #Eliminación de primera columna
View(Gen1)
Gen1<-Gen1%>% mutate(´Fecha´ = NULL) #Eliminación de primera columna
Gen1<-Gen1%>% mutate(´Fecha´ = NULL) #Eliminación de primera columna
Gen1<-Gen1%>% mutate(´Fecha´ = NULL) #Eliminación de primera columna
Gen1<-Gen1%>% mutate(Gen$Fecha = NULL) #Eliminación de primera columna
Gen1<-Gen1%>% mutate(`Fecha` = NULL) #Eliminación de primera columna
Gen1<-Gen1%>% mutate(`Fecha` = NULL) #Eliminación de primera columna
Gen1 <- Gen1%>% mutate(Fecha = NULL)
`rlang::last_error()
Gen1 <- Gen1%>% mutate(`Fecha´ = NULL)
View(Gen1)
Gen1 <- Gen1%>% mutate(`Fecha´ NULL)
Gen1<-Gen1%>% mutate(`Fecha` = NULL) #Eliminación de primera columna
Gen1 <- Gen1%>% mutate(`Fecha´= NULL)
Gen1<-Gen1%>% mutate(`Fecha` = NULL) #Eliminación de primera columna
Gen1<-Gen1%>% mutate(`Fecha´ = NULL) #Eliminación de primera columna
View(Gen1)
View(Gen1)
Gen1<-Gen1%>% mutate(`Fecha´ = NULL)
Gen1<-Gen1%>% mutate("`Fecha´" =  NULL)
Gen1<-Gen1%>% mutate("`Fecha´" =  NULL)
View(Gen1)
Gen1<- Gen1%>% mutate(`Fecha´ =  NULL)
Gen1<- Gen1%>% mutate`(Fecha´ = NULL)
Gen1<- Gen1%>% mutate(`Fecha´ = NULL)
View(Gen1)
Gen1<- Gen1%>% mutate(Gen1$Fecha = NULL)
Gen1<- Gen1%>% mutate(Gen1$Fecha = NULL)
Gen1a<- Gen1%>% mutate(Gen1$Fecha = NULL)
GEN<- cbind(Gen0, Gen1, Gen2, Gen3, Gen4, Gen5, Gen6, Gen7, Gen8, Gen9, Gen10, Gen11, Gen12, Gen13, Gen14, Gen15, Gen16, Gen17, Gen18, Gen19,Gen20, Gen21, Gen22, Gen23)
